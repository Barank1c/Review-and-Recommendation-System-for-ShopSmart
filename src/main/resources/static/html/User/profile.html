<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Profile Page</title>
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/css/bootstrap.min.css" integrity="sha384-QWTKZyjpPEjISv5WaRU9OFeRpok6YctnYmDr5pNlyT2bRjXh0JMhjY6hW+ALEwIH" crossorigin="anonymous">
    <link rel="stylesheet" href="/css/User/profile.css">
</head>
<body>
<header class="header text-white p-3">
    <div class="header-container">
        <div class="user-info d-flex align-items-center">
            <span id="user-name" class="user-name"></span>
            <script>
                function logout() {
                    fetch("/api/auth/logout", {
                        method: "POST"
                    })
                        .then(response => {
                            if (!response.ok) {
                                throw new Error('Network response was not ok');
                            }
                            localStorage.removeItem("appUser");
                            window.location.href = "http://localhost:8080/html/UnregUser/homePage.html";
                        })
                        .catch(error => console.error('Error', error));

                };
            </script>
            <button class="logout" onclick='logout()'>
                <svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" fill="currentColor" class="bi bi-box-arrow-left" viewBox="0 0 16 16">
                    <path fill-rule="evenodd" d="M6 12.5a.5.5 0 0 0 .5.5h8a.5.5 0 0 0 .5-.5v-9a.5.5 0 0 0-.5-.5h-8a.5.5 0 0 0-.5.5v2a.5.5 0 0 1-1 0v-2A1.5.5 0 0 1 6.5 2h8A1.5 1.5 0 0 1 16 3.5v9a1.5 1.5 0 0 1-1.5 1.5h-8A1.5 1.5 0 0 1 5 12.5v-2a.5.5 0 0 1 1 0z"/>
                    <path fill-rule="evenodd" d="M.146 8.354a.5.5 0 0 1 0-.708l3-3a.5.5 0 1 1 .708.708L1.707 7.5H10.5a.5.5 0 0 1 0 1H1.707l2.147 2.146a.5.5 0 0 1-.708.708z"/>
                </svg>
            </button>
        </div>
        <a id="profiletomain" class="proftomain" href="/html/UnregUser/homePage.html">
            <div class="logo"> <img src="/photos/shopsmartwhite.png" alt="logo" width="160" height="50"></div>
        </a>
    </div>
</header>
<div class="container-fluid">
    <div class="row">
        <nav class="col-md-2 sidebar p-3">
            <ul class="nav flex-column" id="side-bar-of-user">
                <li id="profile-details-id" class="nav-item mb-2">
                    <a class="nav-link" id="edit-profile-id">Edit Profile</a>
                </li>
            </ul>
        </nav>
        <main class="main-content" id="main-content"></main>
    </div>
</div>
<script src="/js/User/profile.js"></script>
</body>
</html>
